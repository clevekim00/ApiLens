{
    "schemaVersion": 1,
    "id": "wf-ws-B",
    "name": "B: WS from Config",
    "startNodeId": "start",
    "nodes": [
        {
            "id": "start",
            "type": "start",
            "name": "Start",
            "position": {
                "x": 80,
                "y": 180
            },
            "inputPorts": [],
            "outputPorts": [
                {
                    "key": "out"
                }
            ],
            "config": {},
            "data": {
                "name": "Start"
            }
        },
        {
            "id": "wsConnect",
            "type": "ws_connect",
            "name": "WS Connect (Config)",
            "position": {
                "x": 320,
                "y": 180
            },
            "inputPorts": [
                {
                    "key": "in"
                }
            ],
            "outputPorts": [
                {
                    "key": "success"
                },
                {
                    "key": "failure"
                }
            ],
            "data": {
                "name": "WS Connect (Config)"
            },
            "config": {
                "mode": "configRef",
                "configRefId": "ws-config-001",
                "storeAs": "mainWs",
                "autoReconnect": true,
                "reconnectPolicy": {
                    "maxAttempts": 3,
                    "backoffMs": 500
                }
            }
        },
        {
            "id": "wsSend",
            "type": "ws_send",
            "name": "Send hello",
            "position": {
                "x": 600,
                "y": 180
            },
            "inputPorts": [
                {
                    "key": "in"
                }
            ],
            "outputPorts": [
                {
                    "key": "success"
                },
                {
                    "key": "failure"
                }
            ],
            "data": {
                "name": "Send hello"
            },
            "config": {
                "sessionKey": "mainWs",
                "payloadFormat": "text",
                "payload": "hello"
            }
        },
        {
            "id": "wsWait",
            "type": "ws_wait",
            "name": "Wait any",
            "position": {
                "x": 880,
                "y": 180
            },
            "inputPorts": [
                {
                    "key": "in"
                }
            ],
            "outputPorts": [
                {
                    "key": "success"
                },
                {
                    "key": "failure"
                }
            ],
            "data": {
                "name": "Wait any"
            },
            "config": {
                "sessionKey": "mainWs",
                "timeoutMs": 3000,
                "match": {
                    "type": "anyMessage",
                    "value": ""
                }
            }
        },
        {
            "id": "endOk",
            "type": "end",
            "name": "End OK",
            "position": {
                "x": 1160,
                "y": 140
            },
            "inputPorts": [
                {
                    "key": "in"
                }
            ],
            "outputPorts": [],
            "config": {},
            "data": {
                "name": "End OK"
            }
        },
        {
            "id": "endFail",
            "type": "end",
            "name": "End FAIL",
            "position": {
                "x": 600,
                "y": 320
            },
            "inputPorts": [
                {
                    "key": "in"
                }
            ],
            "outputPorts": [],
            "config": {},
            "data": {
                "name": "End FAIL"
            }
        }
    ],
    "edges": [
        {
            "id": "e1",
            "sourceNodeId": "start",
            "sourcePort": "out",
            "targetNodeId": "wsConnect",
            "targetPort": "in"
        },
        {
            "id": "e2",
            "sourceNodeId": "wsConnect",
            "sourcePort": "success",
            "targetNodeId": "wsSend",
            "targetPort": "in"
        },
        {
            "id": "e3",
            "sourceNodeId": "wsSend",
            "sourcePort": "success",
            "targetNodeId": "wsWait",
            "targetPort": "in"
        },
        {
            "id": "e4",
            "sourceNodeId": "wsWait",
            "sourcePort": "success",
            "targetNodeId": "endOk",
            "targetPort": "in"
        },
        {
            "id": "e5",
            "sourceNodeId": "wsConnect",
            "sourcePort": "failure",
            "targetNodeId": "endFail",
            "targetPort": "in"
        },
        {
            "id": "e6",
            "sourceNodeId": "wsSend",
            "sourcePort": "failure",
            "targetNodeId": "endFail",
            "targetPort": "in"
        },
        {
            "id": "e7",
            "sourceNodeId": "wsWait",
            "sourcePort": "failure",
            "targetNodeId": "endFail",
            "targetPort": "in"
        }
    ]
}